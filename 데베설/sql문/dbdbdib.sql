DROP DATABASE IF EXISTS DBDBDIB;
CREATE DATABASE DBDBDIB;

use DBDBDIB;

/*Table structure for table `members`(회원) */

create table members (
    user_num int not null auto_increment,
    user_nickname varchar(50) not null,
    email varchar(50) not null,
    user_id char(50) not null,
    password char(50) not null,
    recent_access char(20) not null default "tmp_string",
    num_of_messege int default 0,
    primary key(user_num)
);

insert into members(user_num,user_nickname,email,user_id,password)
values
(1,'Jay','jay3821@gmail.com','jay3821','jayjay3821!'),
(2,'JJ','jiji0512@gmail.com','jiji0512','jiji0512@'),
(3,'고쉬','ogsh0909@gmail.com','ogsh0909','ogsh0909!'),
(4,'서강준','skj1217@naver.com','skj1217','skj1217!'),
(5,'고수리','gsl4179@gmail.com','gsl4179','gsl4179!'),
(6,'jul','jul8821@gmail.com','jul8821','jul8821!'),
(7,'siiiiiiiiiiiu','ronaldo231@gmail.com','ronaldo231','ronaldo231!'),
(8,'볼빨간덕배','kdb0628@gmail.com','kdb0628','kdb0628!'),
(9,'무야호','mudo563@naver.com','mudo563','mudo563!'),
(10,'korysanan','krsn421@naver.com','krsn421','krsn421!'),
(11,'소고기발탄','valtan01@gmail.com','valtan01','valtan01@!'),
(12,'상남자김대판','supermuffin@gmail.com','kdp5152','kdp5152!'),
(13,'알자르타카르센','alzaltak@gmail.com','azl1987','azl1987!'),
(14,'제니훈','jennyh@gmail.com','hoon1993','hoon1993!'),
(15,'르힛','ksh1441@naver.com','ksh1441','ksh1441!'),
(16,'옥냥이가먼저함','mjl0909@gmail.com','mjl0909','mjl0909!'),
(17,'아바다케다브라','ljh0812@naver.com','ljh0812','ljh0812!'),
(18,'죽음은바람과같지','yasuo1213@gmail.com','yasuo1213','yasuo1213!'),
(19,'돈많은백수','kyj0420@naver.com','kyj0420','kyj0420!'),
(20,'숙련없는숙련팟','lsg1128@naver.com','lsg1128','lsg1128!');

create table join_platform (
    user_num int,
    platform varchar(50),
    foreign key (user_num) references members(user_num)
);

insert into join_platform(user_num,platform) values
(1, NULL),
(2, 'netflix'),
(3, 'netflix'), (3, 'disney'),
(4, 'netflix'), (4, 'wave'),
(5, 'netflix'), (5, 'wave'), (5, 'tving'),
(6, 'netflix'),
(7, 'netflix'), (7, 'disney'),
(8, 'netflix'), (8, 'disney'),
(9, 'netflix'), (9, 'wave'), (9, 'tving'),
(10, 'netflix'), (10, 'wave'), (10, 'tving'), (10, 'disney'),
(11, 'wave'), (11, 'tving'),
(12, 'netflix'), (12, 'tving'), (12, 'disney'),
(13, 'netflix'),
(14, 'netflix'), (14, 'disney'),
(15, 'netflix'),
(16, 'netflix'), (16, 'tving'), (16, 'wave'), (16, 'disney'),
(17, NULL),
(18, 'netflix'),
(19, 'netflix'), (19, 'disney'),
(20, 'netflix');

create table prefer_genre (
    user_num int,
    genre varchar(50),
    foreign key(user_num) references members(user_num)
);

insert into prefer_genre(user_num, genre) values
(1, 'SF'),
(2, '코미디'), (2, '범죄'), (2, '가족'), (2, '스릴러'), (2, 'SF'), (2, '애니'), (2, '드라마'),
(3, '액션'),
(4, '액션'), (4, '코미디'), (4, '범죄'), (4, '판타지'), (4, '로맨스'), (4, 'SF'), (4, '스포츠'), (4, '드라마'),
(5, '액션'),
(6, '코미디'), (6, '판타지'), (6, '가족'), (6, '로맨스'), (6, '스포츠'), (6, '애니'), (6, '드라마'),
(7, '액션'), (7, '코미디'), (7, '범죄'), (7, '다큐'), (7, '역사'), (7, '가족'), (7, '스릴러'), (7, '스포츠'), (7, '전쟁'), (7, '드라마'),
(8, '액션'), (8, '코미디'), (8, '범죄'), (8, '다큐'), (8, '역사'), (8, '가족'), (8, '스릴러'), (8, '스포츠'), (8, '전쟁'), (8, '드라마'),
(9, '액션'), (9, '코미디'), (9, '범죄'), (9, '다큐'), (9, '판타지'), (9, '역사'), (9, '공포'), (9, '가족'), (9, '음악'), (9, '스릴러'), (9, '로맨스'), (9, 'SF'), (9, '스포츠'), (9, '전쟁'), (9, '서부'), (9, '애니'), (9, '드라마'),
(10, '코미디'), (10, '판타지'), (10, '가족'), (10, '로맨스'), (10, '스포츠'), (10, '애니'), (10, '드라마'),
(11, '액션'), (11, '코미디'), (11, '범죄'), (11, '다큐'), (11, '판타지'), (11, '역사'), (11, '공포'), (11, '음악'), (11, '스릴러'), (11, 'SF'), (11, '스포츠'), (11, '전쟁'), (11, '드라마'),
(12, '액션'), (12, '코미디'), (12, '범죄'), (12, '판타지'), (12, '전쟁'), (12, '애니'),
(13, '코미디'), (13, '다큐'), (13, '판타지'), (13, '역사'), (13, '가족'), (13, '드라마'),
(14, '코미디'), (14, '다큐'), (14, '판타지'), (14, '역사'), (14, '가족'), (14, '드라마'),
(15, '액션'), (15, '코미디'), (15, '범죄'), (15, '판타지'), (15, '역사'), (15, '공포'), (15, '음악'), (15, '스릴러'), (15, 'SF'), (15, '스포츠'), (15, '전쟁'),
(16, '액션'), (16, '코미디'), (16, '범죄'), (16, '다큐'), (16, '판타지'), (16, '역사'), (16, '공포'), (16, '가족'), (16, '음악'), (16, '스릴러'), (16, '로맨스'), (16, 'SF'), (16, '스포츠'), (16, '전쟁'), (16, '서부'), (16, '애니'), (16, '드라마'),
(17, '액션'), (17, '범죄'), (17, '판타지'), (17, '역사'), (17, '공포'), (17, '스릴러'), (17, '전쟁'),
(18, '액션'), (18, '범죄'), (18, '판타지'), (18, '역사'), (18, '가족'), (18, '스릴러'), (18, 'SF'), (18, '전쟁'), (18, '서부'),
(19, '액션'), (19, '코미디'), (19, '범죄'), (19, '다큐'), (19, '판타지'), (19, '역사'), (19, '공포'), (19, '가족'), (19, '음악'), (19, '스릴러'), (19, '로맨스'), (19, 'SF'), (19, '스포츠'), (19, '전쟁'), (19, '서부'), (19, '애니'), (19, '드라마'),
(20, 'SF');

create table contents
(
	id int NOT NULL Auto_increment,
    title varchar(50)  default '' NOT NULL,
    opening_time date NOT NULL,	#date자료형은 YY-MM-DD의 형식으로 날짜를 표현한다. 
    running_times int default 60 NOT NULL,
    views int default 0 NOT NULL,
    age_limit int,
	director varchar(50),
    author varchar(50),
    PRIMARY KEY(id)
);

insert into contents(title, opening_time, running_times, views, age_limit, director, author)
values
('헝거게임 판엠의 불꽃', '2012-04-05', 142, 608222, 15, '게리 로스', '빌리 레이'),
('해리포터와 마법사의 돌', '2001-12-14', 152, 4250000, 0, '크리스 콜럼버스', 'j.k롤링'),
('은밀하게 위대하게', '2013-06-05', 123, 6959083, 15, '장철수', '훈'),
('7번방의 선물', '2013-01-23', 127, 12811206, 15, '이환경', '이환경'),
('귀멸의 칼날: 무한열차 편', '2020-10-16', 117, 2189110, 15, '소토자키 하루오', '코토게 코요하루'),
('메이즈러너', '2014-09-18', 113, 2812427, 12, '웨스 볼', '제임스 대시너'),
('블레이드 러너 2049', '2017-10-06', 163, 322664, 15, '드니 빌뇌브', '필립 킨드레드 딕'),
('너의 이름은', '2017-01-04', 107, 3859162, 12, '신카이 마코토', '신카이 마코토'),
('명량', '2014-07-30', 128, 17615844, 15, '김한민', '전철홍'),
('어벤져스: 엔드게임','2019-04-24', 189, 13977602, 12, '루소 형제', '크리스토퍼 마커스'),
('겨울왕국 2','2019-11-21', 103, 13750668, 0, '크리스 벅', '제니퍼 리'),
('범죄도시 2','2022-05-18', 106, 12693415, 15, '이상용', '김민성'),
('센과 치히로의 행방불명','2002-06-28', 125, 2167573, 0, '미야자키 하야오', '미야자키 하야오'),
('신과 함께 - 죄와 벌','2017-12-20', 140, 14414669, 12, '김용화', '주호민'),
('엣지 오브 투모로우','2014-06-04', 113, 4706232, 12, '더그 라이먼', '사쿠라자카 히로시'),
('인셉션','2010-07-21', 148, 6926948, 12, '크리스토퍼 놀란', '크리스토퍼 놀란'),
('인터스텔라','2014-11-06', 169, 10326240, 12, '크리스토퍼 놀란', '크리스토퍼 놀란, 조나단 놀란'),
('기생충','2019-05-30', 132, 10310255, 15, '봉준호', '봉준호, 한진원'),
('007 스카이폴','2012-10-26', 143, 2376266, 15, '샘 멘데스', '이언 플레밍'),
('더 울프 오브 월 스트리트','2014-01-09', 180, 585082, 19, '마틴 스코세이지', '테런스 윈터'),
('해바라기','2006-011-23', 116, 1543429, 15, '강석범', '강석범'),
('아저씨','2010-08-04', 119, 6282774, 18, '이정범', '이정범'),
('전우치','2009-12-23', 136, 6065474, 12, '최동훈', '최동훈'),
('성난황소','2018-11-22', 116, 1593386, 15, '김민호', '김민호'),
('코어','2003-03-25', 130, 312764, 12, '존 아미엘', '존 로저스'),
('좋은놈, 나쁜놈, 이상한놈','2008-07-17', 139, 6686912, 15, '김지운', '김지운'),
('아폴로 13','1995-08-05', 140, 198185, 12, '론 하워드', '알 레이널트'),
('김관장 대 김관장 대 김관장','2007-02-08', 103, 1025618, 15, '박성균', '박성균'),
('어바웃타임','2013-12-05', 123, 3449451, 15, '리처드 커티스', '리처드 커티스'),
('범죄도시1','2017-10-03', 121, 6880546, 19, '강윤성', '강윤성'),
('오징어 게임','2021-09-17', 477, 50000000, 18, '황동혁', '황동혁'),
('더 글로리 1','2022-12-30', 384, 60000000, 15, '안길호', '김은숙'),
('너의목소리가들려','2013-06-05', 1350, 8342432, 15, '김운호', '박혜련'),
('더 글로리 2','2023-03-10', 436, 60000000, 15, '안길호', '김은숙'),
('싸인','2011-01-05', 1400, 8543123, 15, '김용훈', '김은희'),
('슬기로운 의사생활 시즌1','2020-03-12', 1118, 3156333, 15, '신원호', '이우정'),
('미생','2014-10-17', 1328, 78000000, 0, '정윤정', '김원'),
('18어게인','2020-09-21', 1120, 5765245, 15, '조준형', '김도연'),
('선덕여왕','2009-05-25', 3844, 20889525, 15, '김호영', '김영현, 박상연'),
('신의 선물-14일','2014-03-03', 992, 4080800, 15, '이경식', '최란'),
('카지노','2022-12-21', 1040, 6100000, 18, '강윤성', '강윤성'),
('웬즈데이','2022-11-23', 390, 4800800, 15, '팀 버튼', '팀 버튼'),
('종이의 집','2017-05-02', 845, 9800000, 18, '알렉스 피나', '알렉스 피나'),
('미스터 션샤인','2018-07-07', 1560, 7200000, 15, '이응복', '김은숙'),
('태양의 후예','2016-02-24', 1235, 8000000, 15, '이응복', '김은숙'),
('재벌집 막내아들','2022-11-18', 1105, 6000000, 15, '정대윤', '김태희'),
('호텔 델루나','2019-07-13', 1040, 5500000, 15, '이동규', '홍정은'),
('이태원 클라쓰','2020-01-31', 1040, 6300000, 15, '김성윤', '조광진'),
('이상한 변호사 우영우','2022-06-29', 1280, 2000000, 15, '유인식', '문지원'),
('슬기로운 의사생활 시즌2','2021-06-17', 1118, 7777777, 15, '신원호', '이우정'),
('우리들의 블루스','2022-04-09', 1040, 45000000, 15, '김규태', '노희경'),
('슈룹','2022-10-15', 1118, 43000000, 0, '김정현', '김정현'),
('스물다섯 스물하나','2022-02-12', 1560, 42000000, 18, '김태윤', '이슬희'),
('작은 아씨들','2022-09-03', 968, 35000000, 18, '김희원', '김희원'),
('나의 해방일지','2022-04-09', 1156, 26000000, 15, '김정현', '김정현'),
('검은태양','2021-09-17', 1450, 24000000, 15, '김성용', '박석호'),
('빈센조','2021-02-20', 1560, 45000000, 15, '김희원', '박재범'),
('추노','2010-01-06', 1920, 3333333, 15, '광정환', '천성일'),
('뿌리깊은 나무','2011-10-05', 1440, 4444444, 15, '장태유, 신경수', '김영현, 박상연'),
('앨리스','2020-08-28', 1120, 3123867, 15, '백수찬', '김규원');

create table contents_platform
(
	id int default 0 NOT NULL,
	platform varchar(30)  NOT NULL,
	platform_link varchar(2048) default '' NOT NULL,	#https://careerly.co.kr/qnas/1758-브라우저마다 url입력 최대 사이즈가 다른데요, 점유율이 가장 높은 크롬브라우저의 url 최대 길이(2048)를 고려해서 설정한 값입니다.
    KEY (id),
    CONSTRAINT contents_platform_ibfk FOREIGN KEY (id) REFERENCES contents(id) on update cascade
);

insert into contents_platform(id, platform, platform_link)
values
(1, '웨이브', 'https://www.wavve.com/'), (1, '티빙', 'https://www.tving.com/onboarding'), 
(2, '웨이브', 'https://www.wavve.com/'),
(3, '티빙', 'https://www.tving.com/onboarding'),
(4, '넷플릭스', 'https://www.netflix.com/kr/'),
(5, '티빙', 'https://www.tving.com/onboarding'), (5, '넷플릭스', 'https://www.netflix.com/kr/'),
(6, '디지니+', 'https://www.disneyplus.com/ko-kr'),
(7, '티빙', 'https://www.tving.com/onboarding'),
(8, '웨이브', 'https://www.wavve.com/'),
(9, '넷플릭스', 'https://www.netflix.com/kr/'),
(10, '디지니+','https://www.disneyplus.com/ko-kr'), (10, '웨이브','https://www.wavve.com/'),
(11, '디지니+','https://www.disneyplus.com/ko-kr'), (11, '웨이브','https://www.wavve.com/'),
(12,'웨이브', 'https://www.wavve.com/'), (12,'티빙', 'https://www.tving.com/onboarding'), (12,'디지니+', 'https://www.disneyplus.com/ko-kr'),
(13,'웨이브', 'https://www.wavve.com/'), (13,'티빙', 'https://www.tving.com/onboarding'), (13,'넷플릭스', 'https://www.netflix.com/kr/'),
(14,'웨이브', 'https://www.wavve.com/'), (14,'티빙', 'https://www.tving.com/onboarding'), (14,'넷플릭스', 'https://www.netflix.com/kr/'),
(15,'웨이브', 'https://www.wavve.com/'),
(16,'웨이브', 'https://www.wavve.com/'),
(17,'웨이브', 'https://www.wavve.com/'),
(18,'티빙', 'https://www.tving.com/onboarding'),
(19,'디지니+', 'https://www.disneyplus.com/ko-kr'),
(20,'티빙', 'https://www.tving.com/onboarding'),
(21,'웨이브', 'https://www.wavve.com/'),
(22,'티빙', 'https://www.tving.com/onboarding'),
(23,'티빙', 'https://www.tving.com/onboarding'), (23,'넷플릭스', 'https://www.netflix.com/kr/'),
(24,'웨이브', 'https://www.wavve.com/'), (24,'넷플릭스', 'https://www.netflix.com/kr/'),
(25,'티빙', 'https://www.tving.com/onboarding'), (25,'넷플릭스', 'https://www.netflix.com/kr/'),
(26,'티빙', 'https://www.tving.com/onboarding'), (26,'넷플릭스', 'https://www.netflix.com/kr/'),
(27,'웨이브', 'https://www.wavve.com/'), (27,'티빙', 'https://www.tving.com/onboarding'),
(28,'웨이브', 'https://www.wavve.com/'), (28,'티빙', 'https://www.tving.com/onboarding'),
(29,'넷플릭스', 'https://www.netflix.com/kr/'),
(30,'티빙', 'https://www.tving.com/onboarding'),
(31,'넷플릭스', 'https://www.netflix.com/kr/'),
(32,'넷플릭스', 'https://www.netflix.com/kr/'),
(33,'웨이브', 'https://www.wavve.com/'),
(34,'넷플릭스', 'https://www.netflix.com/kr/'),
(35,'웨이브', 'https://www.wavve.com/'),
(36,'티빙', 'https://www.tving.com/onboarding'), (36,'넷플릭스', 'https://www.netflix.com/kr/'),
(37,'웨이브', 'https://www.wavve.com/'),
(38,'티빙', 'https://www.tving.com/onboarding'), (38,'넷플릭스', 'https://www.netflix.com/kr/'),
(39,'웨이브', 'https://www.wavve.com/'),
(40,'웨이브', 'https://www.wavve.com/'),
(41,'웨이브', 'https://www.wavve.com/'), (41,'디지니+', 'https://www.disneyplus.com/ko-kr'),
(42,'웨이브', 'https://www.wavve.com/'),
(43,'티빙', 'https://www.tving.com/onboarding'), (43,'넷플릭스', 'https://www.netflix.com/kr/'),
(44,'넷플릭스', 'https://www.netflix.com/kr/'), (44,'디지니+', 'https://www.disneyplus.com/ko-kr'),
(45,'넷플릭스', 'https://www.netflix.com/kr/'),
(46,'웨이브', 'https://www.wavve.com/'), (46,'티빙', 'https://www.tving.com/onboarding'),
(47,'웨이브', 'https://www.wavve.com/'),
(48,'웨이브', 'https://www.wavve.com/'), (48,'넷플릭스', 'https://www.netflix.com/kr/'),
(49,'넷플릭스', 'https://www.netflix.com/kr/'),
(50,'티빙', 'https://www.tving.com/onboarding'), (50,'넷플릭스', 'https://www.netflix.com/kr/'),
(51,'웨이브', 'https://www.wavve.com/'),
(52,'웨이브', 'https://www.wavve.com/'),
(53,'웨이브', 'https://www.wavve.com/'),
(54,'웨이브', 'https://www.wavve.com/'), (54,'티빙', 'https://www.tving.com/onboarding'),
(55,'웨이브', 'https://www.wavve.com/'), (55,'티빙', 'https://www.tving.com/onboarding'),
(56,'웨이브', 'https://www.wavve.com/'), (56,'티빙', 'https://www.tving.com/onboarding'),
(57,'웨이브', 'https://www.wavve.com/'), (57,'티빙', 'https://www.tving.com/onboarding'),
(58,'웨이브', 'https://www.wavve.com/'),
(59,'웨이브', 'https://www.wavve.com/'),
(60,'웨이브', 'https://www.wavve.com/');

create table contents_limit
(
	id int default 0 NOT NULL,
    limit_reason varchar(5) default '' NOT NULL,
    KEY(id),
    CONSTRAINT contents_limit_ibfk FOREIGN KEY(id) REFERENCES contents(id) on update cascade
);

insert into contents_limit(id, limit_reason) 
values
(1,'폭력성'), (1,'모방위험'), (1,'주제'),
(3,'폭력성'),
(4,'모방위험'),
(5,'폭력성'), (5,'주제'),
(6,'폭력성'), (6,'언어'), (6,'주제'),
(7,'선전성'), (7,'폭력성'), (7,'주제'),
(8,'모방위험'),
(9,'폭력성'),
(10,'폭력성'),
(11,'모방위험'),
(12,'폭력성'), (12,'모방위험'), (12,'주제'),
(13,'주제'),
(14,'모방위험'), (14,'주제'),
(15,'언어'), (15,'모방위험'), (15,'주제'),
(16,'언어'), (16,'주제'),
(17,'언어'), (17,'주제'),
(18,'언어'), (18,'주제'),
(19,'선전성'), (19,'폭력성'), (19,'언어'), (19,'모방위험'), (19,'주제'),
(20,'선전성'), (20,'언어'), (20,'주제'),
(21,'폭력성'), (21,'언어'), (21,'주제'),
(22,'폭력성'), (22,'언어'), (22,'주제'),
(23,'선전성'), (23,'폭력성'), (23,'언어'), (23,'주제'),
(24,'폭력성'), (24,'언어'), (24,'모방위험'), (24,'주제'),
(25,'언어'), (25,'주제'),
(26,'폭력성'), (26,'언어'), (26,'주제'),
(27,'언어'), (27,'주제'),
(28,'폭력성'), (28,'모방위험'), (28,'주제'),
(29,'선전성'), (29,'언어'), (29,'모방위험'), (29,'주제'),
(30,'폭력성'), (30,'모방위험'), (30,'주제'),
(31,'폭력성'), (31,'언어'),
(32,'폭력성'), (32,'모방위험'),
(33,'언어'), (33,'모방위험'), (33,'주제'),
(34,'폭력성'),(34,'모방위험'),
(35,'언어'), (35,'모방위험'), (35,'주제'),
(36,'언어'),
(38,'언어'), (38,'모방위험'), (38,'주제'),
(39,'폭력성'),
(40,'모방위험'), (40,'주제'),
(41,'언어'), (41,'모방위험'), (41,'주제'),
(42,'폭력성'), (42,'주제'),
(43,'폭력성'), (43,'모방위험'), (43,'주제'),
(44,'폭력성'), (44,'모방위험'), (44,'주제'),
(45,'폭력성'), (45,'언어'),
(46,'폭력성'), (46,'언어'), (46,'모방위험'),
(47,'언어'), (47,'모방위험'),
(48,'언어'), (48,'모방위험'),
(49,'폭력성'), (49,'모방위험'),
(50,'언어'),
(51,'언어'),
(53,'폭력성'),
(54,'폭력성'),
(55,'폭력성'), (55,'모방위험'),
(56,'언어'),
(57,'폭력성'), (57,'모방위험'),
(58,'폭력성'), (58,'언어'), (58,'주제'),
(59,'폭력성'), (59,'언어'),
(60,'폭력성'),(60,'언어'), (60,'모방위험'), (60,'주제');

create table contents_genre
(
	id int default 0 NOT NULL,
    genre varchar(5) default '' NOT NULL,
    KEY(id),
    CONSTRAINT contents_genre_ibfk FOREIGN KEY(id) REFERENCES contents(id) on update cascade
);

insert into contents_genre(id, genre)
values
(1, '액션'), 
(1, '판타지'),
(2, '가족'), 
(2, '판타지'),
(3, '액션'), 
(3, '드라마'), 
(3, '코미디'),
(4, '코미디'), 
(4,'드라마'),
(5, '애니'),
(6, 'SF'), 
(6, '액션'), 
(6, '스릴러'),
(7, 'SF'), 
(7, '드라마'), 
(7, '스릴러'),
(8, '애니'), 
(8, '판타지'), 
(8, '로맨스'),
(9, '액션'), 
(9, '역사'), 
(9, '전쟁'),
(10, 'SF'), 
(10, '액션'),
(11, '애니'), 
(11, '판타지'),
(12, '액션'), 
(12, '범죄'),
(13, '애니'), 
(13, '판타지'),
(14, '판타지'), 
(14, '드라마'),
(15, 'SF'), 
(15, '액션'),
(16, '드라마'), 
(16, '범죄'), 
(16, 'SF'), 
(16, '스릴러'), 
(16, '액션'),
(17, 'SF'), 
(17, '드라마'),
(18, '범죄'), 
(18, '스릴러'), 
(18, '드라마'), 
(18, '가족'),
(19, '액션'), 
(19, '스릴러'),
(20, '범죄'), 
(20, '코미디'),
(21, '드라마'), 
(21, '가족'), 
(21, '범죄'), 
(21, '액션'),
(22, '액션'), 
(22, '범죄'), 
(22, '스릴러'),
(23, '액션'), 
(23, '코미디'),
(24, '액션'), 
(24, '범죄'),
(25, 'SF'),
(26, '코미디'), 
(26, '액션'),
(27, '드라마'),
(28, '코미디'), 
(28, '액션'),
(29, '코미디'), 
(29, '로맨스'),
(30, '범죄'), 
(30, '액션'), 
(30, '스릴러'),
(31, '공포'), 
(31, '스릴러'),
(31, '액션'), 
(31, '범죄'), 
(31, '드라마'),
(32, '스릴러'), 
(32, '범죄'), 
(32, '드라마'),
(33, '로맨스'), 
(33, '판타지'),
(34, '스릴러'), 
(34, '범죄'), 
(34, '드라마'),
(35, '드라마'), 
(35, '범죄'),
(36, '드라마'), 
(36, '코미디'), 
(36, '음악'),
(37, '드라마'), 
(37, '코미디'),
(38, '로맨스'), 
(38, '코미디'), 
(38, '판타지'),
(39, '역사'),
(40, '스릴러'),
(41, '범죄'), 
(41, '스릴러'), 
(41, '액션'), 
(41, '드라마'),
(42, '판타지'), 
(42, '범죄'),
(43, '범죄'), 
(43, '스릴러'),
(44, '드라마'), 
(44, '로맨스'), 
(44, '역사'),
(45, '드라마'), 
(45, '로맨스'),
(46, '드라마'), 
(46, '판타지'), 
(46, '범죄'), 
(46, '스릴러'),
(47, '로맨스'), 
(47, '코미디'), 
(47, '판타지'),
(48, '범죄'), 
(48, '드라마'), 
(48, '로맨스'), 
(48, '코미디'),
(49, '드라마'), 
(49, '코미디'),
(50, '드라마'), 
(50, '코미디'), 
(50, '음악'),
(51, '드라마'), 
(51, '로맨스'),
(52, '드라마'), 
(52, '로맨스'),
(53, '드라마'), 
(53, '로맨스'),
(54, '드라마'), 
(54, '로맨스'),
(55, '드라마'), 
(55, '로맨스'),
(56, '스릴러'), 
(56, '범죄'), 
(56, '액션'), 
(56, '드라마'),
(57, '드라마'), 
(57, '스릴러'), 
(57, '액션'), 
(57, '코미디'), 
(57, '로맨스'),
(58, '드라마'), 
(58, '역사'),
(59, '드라마'),
(60, 'SF'), 
(60, '액션');

ALTER TABLE members ADD INDEX idx_members_id (user_nickname);

ALTER TABLE contents ADD INDEX idx_title (title);

CREATE TABLE reviews
(
	postNumber INT NOT NULL Auto_increment,
    user_nickname VARCHAR(50) NOT NULL,
    contents_title VARCHAR(50)  default '' NOT NULL,
    reviewTitle VARCHAR(20) NOT NULL,
    reviewContent VARCHAR(2000) NOT NULL,
    postDate TIMESTAMP DEFAULT now(),
    likes INT default 0,
    dislikes INT default 0,
    PRIMARY KEY(postNumber),
    FOREIGN KEY (user_nickname) references members(user_nickname),
    FOREIGN KEY (contents_title) references contents(title)
);

INSERT INTO reviews (user_nickname, contents_title, reviewTitle, reviewContent, postDate, likes, dislikes) VALUES
('Jay', '오징어 게임', '진짜 재밌음', '이 콘텐츠 정말 좋았어요! 너무 재미있어서 다시 볼 생각이 있어요.', '2023-06-13 12:00:00', 5, 2),
('Jay', '더 글로리 1', '배우 연기가 좋음', '배우들의 연기가 정말 뛰어났어요. 몰입력이 높았습니다.', '2023-06-14 15:30:00', 4, 1),
('숙련없는숙련팟', '더 글로리 2', '어려워요', '스토리가 너무 복잡해서 이해하기 어려웠어요. 조금 아쉬웠습니다.', '2023-06-15 09:20:00', 2, 0),
('숙련없는숙련팟', '전우치', '재미없어요', '예상보다 실망스러웠어요. 기대한 만큼의 퀄리티가 아니었습니다.', '2023-06-16 17:45:00', 2, 1),
('JJ', '아저씨', '분위기가 좋아요', '음악이 너무 아름다웠어요. 음악이 영화에 더욱 특별한 분위기를 더했습니다.', '2023-06-17 14:10:00', 5, 0),
('JJ', '성난황소', '재밌어요', '이 콘텐츠를 추천합니다! 다른 사람들에게도 꼭 보여주고 싶어요.', '2023-06-18 20:30:00', 5, 1),
('고쉬', '범죄도시1', '재밌음7', '플롯이 너무 흥미진진해서 긴장감이 느껴졌어요. 계속해서 시청하고 싶었습니다.', '2023-06-19 11:50:00', 5, 0),
('고쉬', '인셉션', '너무 어려움', '이런 재미없는 콘텐츠는 처음 봤어요. 시간 낭비였습니다.', '2023-06-20 16:20:00', 5, 1),
('고쉬', '너의 이름은', '재미없어요', '마지막 결말이 너무 아쉬웠어요. 조금 더 완성도 있게 마무리할 수 있지 않았을까요?', '2023-06-21 10:15:00', 4, 2),
('서강준', '메이즈러너', '흥미진진해요', '배우들의 액션 연기가 정말 멋있었습니다. 시원한 액션을 즐길 수 있었습니다.', '2023-06-22 13:40:00', 3, 1),
('서강준', '명량', '재밌어요', '전투 장면들이 너무 멋있었어요. 대규모 전투 장면에서의 연출이 인상적이었습니다.', '2023-06-23 18:50:00', 5, 1),
('고수리', '해바라기', '잔잔해요', '콘텐츠의 분위기가 매우 따뜻하고 풍성했어요. 보는 동안 행복한 시간을 보냈습니다.', '2023-06-24 10:00:00', 5, 0),
('고수리', '코어', '아름다워요', '이 콘텐츠의 영상미가 정말 아름다웠어요. 시각적으로 매우 만족스러웠습니다.', '2023-06-25 12:30:00', 5, 2),
('고수리', '종이의 집', '흥미진진해요', '흥미진진한 전개와 깊은 이야기가 인상적이었습니다. 지루할 틈이 없는 작품이었습니다.', '2023-06-26 14:55:00', 4, 0),
('고수리', '카지노', '반전있네요', '이 콘텐츠는 예상치 못한 전개가 있어서 흥미로웠어요. 스릴을 즐길 수 있었습니다.', '2023-06-27 17:10:00', 4, 1),
('볼빨간덕배', '오징어 게임', '연기가 좋아요', '감독과 배우들의 노력이 느껴졌어요. 훌륭한 작품이었습니다.', '2023-06-28 19:20:00', 3, 0),
('볼빨간덕배', '오징어 게임', '결말이 좋아요', '감동적인 이야기와 멋진 연기로 인해 눈물을 흘렸습니다. 정말 추천합니다.', '2023-06-29 09:30:00', 5, 1),
('무야호', '웬즈데이', '아쉬워요', '스토리의 전개가 조금 혼란스러웠어요. 이해하기 어려운 부분이 있었습니다.', '2023-06-30 14:40:00', 5, 4),
('무야호', '선덕여왕', '진짜 재밌어요!', '시간 가는 줄 모르고 보게 되는 작품이었습니다. 흥미로웠습니다.', '2023-07-01 16:50:00', 4, 0),
('무야호', '이태원 클라쓰', '스릴넘쳐요', '스릴 넘치는 액션과 강렬한 연기가 인상적이었습니다. 긴장감을 느낄 수 있었습니다.', '2023-07-02 11:00:00', 5, 2),
('korysanan', '이상한 변호사 우영우', '멋있어요', '콘텐츠의 분위기와 비주얼이 아주 멋있었습니다. 시간 가는 줄 모르고 봤어요.', '2023-07-03 13:10:00', 5, 1),
('소고기발탄', '슈룹', '스릴넘쳐요', '감독의 연출이 정말 훌륭했어요. 스릴 넘치는 장면이 인상깊었습니다.', '2023-07-04 15:20:00', 5, 0),
('korysanan', '스물다섯 스물하나', '내용이 어려워요', '이 콘텐츠는 생각할 거리가 많은 작품이었습니다. 깊은 내용을 다루었어요.', '2023-07-05 17:30:00', 5, 3),
('korysanan', '나의 해방일지', '아름다워요', '이 콘텐츠는 정말 아름다운 작품이었습니다. 감동을 주는 스토리였어요.', '2023-07-06 19:40:00', 4, 1),
('소고기발탄', '나의 해방일지', '화끈해요', '긴장감 넘치는 스토리와 전개가 인상깊었습니다. 흥미진진한 작품이었습니다.', '2023-07-07 09:50:00', 5, 2),
('소고기발탄', '명량', '연기가 멋있어요', '전투 장면들이 정말 멋있게 연출되었어요. 대규모 전투 장면이 인상적이었습니다.', '2023-07-08 12:00:00', 4, 0),
('소고기발탄', '해바라기', '아름다워요', '영상미가 아름다웠고 배우들의 연기가 좋았습니다. 감동적인 작품이었습니다.', '2023-07-09 14:10:00', 5, 1),
('소고기발탄', '빈센조', '재밌어요', '이 콘텐츠의 시각 효과가 너무 멋있었습니다. 시간 가는 줄 모르고 봤어요.', '2023-07-10 16:20:00', 4, 0),
('상남자김대판', '추노', '흥미진진해요', '흥미진진한 전개와 깊은 이야기가 인상적이었습니다. 지루할 틈이 없는 작품이었습니다.', '2023-07-11 18:30:00', 5, 1),
('상남자김대판', '뿌리깊은 나무', '슬퍼요', '이 콘텐츠는 예상치 못한 전개가 있어서 흥미로웠어요. 스릴을 즐길 수 있었습니다.', '2023-07-12 20:40:00', 3, 0),
('상남자김대판', '싸인', '흥미진진해요', '배우들의 액션 연기가 정말 멋있었습니다. 시원한 액션을 즐길 수 있었습니다.', '2023-06-22 13:40:00', 5, 3),
('상남자김대판', '재벌집 막내아들', '재밌어요', '전투 장면들이 너무 멋있었어요. 대규모 전투 장면에서의 연출이 인상적이었습니다.', '2023-06-23 18:50:00', 2, 1),
('상남자김대판', '호텔 델루나', '잔잔해요', '콘텐츠의 분위기가 매우 따뜻하고 풍성했어요. 보는 동안 행복한 시간을 보냈습니다.', '2023-06-24 10:00:00', 5, 0),
('알자르타카르센', '미생', '아름다워요', '이 콘텐츠의 영상미가 정말 아름다웠어요. 시각적으로 매우 만족스러웠습니다.', '2023-06-25 12:30:00', 5, 2),
('알자르타카르센', '18어게인', '흥미진진해요', '흥미진진한 전개와 깊은 이야기가 인상적이었습니다. 지루할 틈이 없는 작품이었습니다.', '2023-06-26 14:55:00', 5, 0),
('알자르타카르센', '선덕여왕', '반전있네요', '이 콘텐츠는 예상치 못한 전개가 있어서 흥미로웠어요. 스릴을 즐길 수 있었습니다.', '2023-06-27 17:10:00', 4, 1),
('알자르타카르센', '슬기로운 의사생활 시즌1', '연기가 좋아요', '감독과 배우들의 노력이 느껴졌어요. 훌륭한 작품이었습니다.', '2023-06-28 19:20:00', 5, 0),
('제니훈', '오징어 게임', '재밌어요', '감동적인 이야기와 멋진 연기로 인해 눈물을 흘렸습니다. 정말 추천합니다.', '2023-06-29 09:30:00', 5, 1),
('제니훈', '미스터 션샤인', '아쉬워요', '스토리의 전개가 조금 혼란스러웠어요. 이해하기 어려운 부분이 있었습니다.', '2023-06-30 14:40:00', 5, 4),
('제니훈', '태양의 후예', '진짜 재밌어요!', '시간 가는 줄 모르고 보게 되는 작품이었습니다. 흥미로웠습니다.', '2023-07-01 16:50:00', 5, 0),
('르힛', '슈룹', '스릴넘쳐요', '스릴 넘치는 액션과 강렬한 연기가 인상적이었습니다. 긴장감을 느낄 수 있었습니다.', '2023-07-02 11:00:00', 4, 2),
('르힛', '기생충', '멋있어요', '콘텐츠의 분위기와 비주얼이 아주 멋있었습니다. 시간 가는 줄 모르고 봤어요.', '2023-07-03 13:10:00', 4, 1),
('르힛', '인터스텔라', '스릴넘쳐요', '감독의 연출이 정말 훌륭했어요. 스릴 넘치는 장면이 인상깊었습니다.', '2023-07-04 15:20:00', 5, 0),
('옥냥이가먼저함', '007 스카이폴', '내용이 어려워요', '이 콘텐츠는 생각할 거리가 많은 작품이었습니다. 깊은 내용을 다루었어요.', '2023-07-05 17:30:00', 4, 3),
('옥냥이가먼저함', '7번방의 선물', '아름다워요', '이 콘텐츠는 정말 아름다운 작품이었습니다. 감동을 주는 스토리였어요.', '2023-07-06 19:40:00', 5, 1),
('아바다케다브라', '헝거게임 판엠의 불꽃', '화끈해요', '긴장감 넘치는 스토리와 전개가 인상깊었습니다. 흥미진진한 작품이었습니다.', '2023-07-07 09:50:00', 4, 2),
('아바다케다브라', '18어게인', '흥미진진해요', '흥미진진한 전개와 깊은 이야기가 인상적이었습니다. 지루할 틈이 없는 작품이었습니다.', '2023-06-26 14:55:00', 5, 0),
('아바다케다브라', '선덕여왕', '반전있네요', '이 콘텐츠는 예상치 못한 전개가 있어서 흥미로웠어요. 스릴을 즐길 수 있었습니다.', '2023-06-27 17:10:00', 3, 1),
('아바다케다브라', '슬기로운 의사생활 시즌1', '연기가 좋아요', '감독과 배우들의 노력이 느껴졌어요. 훌륭한 작품이었습니다.', '2023-06-28 19:20:00', 3, 0),
('아바다케다브라', '오징어 게임', '재밌어요', '감동적인 이야기와 멋진 연기로 인해 눈물을 흘렸습니다. 정말 추천합니다.', '2023-06-29 09:30:00', 5, 1);

create table Grade
(
	Content_ID int Not Null,
    Member_ID int Not Null,
    grade int,
	constraint Grade_PK primary key(Content_ID, Member_ID),
    constraint grade_limit check(grade >=1 and grade<=10),
    foreign key (Content_ID) references contents(id),
    foreign key (Member_ID) references members(user_num)
);

insert into grade(content_id,member_id,grade) values
(1,1,9),
(2,2,8),
(3,3,9),
(4,4,6),
(5,5,8),
(6,6,10),
(7,7,9),
(8,8,7),
(9,9,10),
(10,10,1),
(11,11,5),
(12,12,7),
(13,13,8),
(14,14,9),
(15,15,10),
(16,16,8),
(17,17,9),
(18,18,10),
(19,19,7),
(20,20,9);

create table event
(
	event_id int NOT NULL,
    event_name varchar(50) NOT NULL,
    event_start TIMESTAMP NOT NULL,
    event_end TIMESTAMP NOT NULL,
    event_condition VARCHAR(100) NOT NULL,
    event_detail varchar(500) NOT NULL,
    PRIMARY KEY(event_id),
    UNIQUE (event_name)
);

CREATE TABLE platforms
(
	name varchar(50) DEFAULT '' NOT NULL,
    introduction varchar(100) DEFAULT '' NOT NULL,
    price int(11) DEFAULT 0 NOT NULL,
    family_price bool DEFAULT false,
    link varchar(50) DEFAULT '' NOT NULL,
    rating int(1) DEFAULT 0 NOT NULL,
    PRIMARY KEY(name)
);

insert into platforms (name, introduction, price, family_price, link, rating)
values
('넷플릭스', '넷플릭스는 실제 4억명 이상의 고객들이 시청하는 플랫폼으로 다양한 장르의 컨텐츠를 어디서나 볼 수 있는 플랫폼이다.', 5500, true, 'https://www.netflix.com/kr/', 1),
('디즈니+', '디즈니가 출시한 OTT 서비스로 다양한 컨텐츠와 오리지널 작품을 제공한다.', 9900, false, 'https://www.disneyplus.com/ko-kr', 2),
('티빙', '국내 온라인 OTT 서비스이며 실시간TV, 다시보기, 오리지널 등 컨텐츠를 제공한다.', 7900, true, 'https://www.tving.com/onboarding', 3),
('웨이브', '국내 지상파 3사와 SK 합작으로 만들어진 OTT서비스로 지상파 실시간, 다시보기가 주요 컨텐츠인 플랫폼이다.', 7900, false, 'https://www.wavve.com/', 4),
('왓챠', '주로 영화 위주의 서비스를 제공하며 웹툰도 합께 제공하고 있다.', 7900, false, 'https://watcha.com/', 4),
('애플tv', 'apple의 OTT 서비스로, 주로 오리지널 컨텐츠를 제공한다.', 6500, false, 'https://tv.apple.com/kr', 5),
('쿠팡플레이', '싱가포르의 OTT 서비스 HOOQ를 인수를 기반으로 출시한 OTT 서비르로 다양한 컨텐츠를 제공한다.', 4990, false, 'https://www.coupangplay.com/', 6);

CREATE TABLE platform_events (
    num INT(11) AUTO_INCREMENT,
    platform_name VARCHAR(50) DEFAULT '' NOT NULL,
    name VARCHAR(50) DEFAULT '' NOT NULL,
    start TIMESTAMP DEFAULT NOW() NOT NULL,
    end DATETIME DEFAULT '2999-12-31' NOT NULL,
    requirement VARCHAR(20) DEFAULT '' NOT NULL,
    detail VARCHAR(50) DEFAULT '' NOT NULL,
    PRIMARY KEY(num),
    KEY platform_name(platform_name),
    CONSTRAINT platform_events_ibfk_1 FOREIGN KEY(platform_name) REFERENCES platforms(name) ON DELETE CASCADE
);

insert into platform_events(num, platform_name, name, start, end, requirement, detail)
values
(1, '디즈니+', '신규회원 할인', '2023-01-01', '2024-01-01', '신규회원', '1개월간 무료'),
(2, '왓챠', '신규회원 할인', '2023-01-01', '2024-01-01', '신규회원', '3개월간 무료'),
(3, '애플tv', '신규회원 할인', '2023-01-01', '2024-01-01', '신규회원', '1개월간 무료'),
(4, '쿠팡플레이', '신규회원 할인', '2023-01-01', '2024-01-01', '신규회원', '2개월간 무료');